export default 'PRAGMA foreign_keys=ON;BEGIN TRANSACTION;CREATE TABLE IF NOT EXISTS _Schema(id INTEGER PRIMARY KEY CHECK(id=0),version INTEGER NOT NULL);INSERT OR REPLACE INTO _Schema VALUES(0,2);CREATE TABLE IF NOT EXISTS File(path TEXT NOT NULL PRIMARY KEY,mtime INTEGER,size INTEGER)WITHOUT ROWID;CREATE TABLE IF NOT EXISTS FileContent(path TEXT NOT NULL PRIMARY KEY,data BLOB NOT NULL,FOREIGN KEY(path)REFERENCES File(path)ON DELETE CASCADE)WITHOUT ROWID;CREATE VIEW IF NOT EXISTS vFile(path,mtime,size,missing,cached)AS SELECT f.path,f.mtime,f.size,f.size IS NULL,COUNT(c.path) >0 FROM File f LEFT JOIN FileContent c USING(path)GROUP BY 1,2,3,4;COMMIT;VACUUM;'
